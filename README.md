# 🔮 Anti-Recommend Search (ARS)

**商業バイアスを除去し、埋もれた個人コンテンツを発見するChrome拡張機能**

---

## 🎯 ARSとは？

普段のGoogle検索では、SEO対策された企業サイトや「おすすめ○選」系の記事ばかりが上位に表示されます。
ARSは検索結果をリアルタイムで解析し、**本当に個人が書いた体験記やニッチなサイト**を見つけ出します。

```
通常のGoogle検索結果
  − 広告・アフィリエイト記事
  − 大手メディア・企業サイト
  − SEOテンプレ記事
  ─────────────────────
  = あなただけの発見
```

---

## 📦 インストール方法

1. このフォルダをダウンロード／クローン
2. Chromeで `chrome://extensions` を開く
3. 右上の **「デベロッパーモード」** をON
4. **「パッケージ化されていない拡張機能を読み込む」** をクリック
5. このフォルダ（`special_search`）を選択

> 💡 Googleで検索すると、画面右側に紫色のARSパネルが自動表示されます。

---

## 🖥️ 画面の見方

### サイドパネル

検索するとページ右側に表示されるパネルです。

| 表示項目 | 意味 |
|---------|------|
| **アンチスコア** | 個人コンテンツ度の総合評価（高いほど個人的） |
| **個人性ゲージ** | 一人称や体験表現の多さ（緑色） |
| **商業性ゲージ** | SEOワードやアフィリエイトの多さ（赤色） |
| **判定理由** | なぜそのスコアになったかの詳細 |

### スコアバッジの色

| 色 | スコア | 意味 |
|----|-------|------|
| 🟢 緑 | 65以上 | 個人コンテンツの可能性が高い |
| 🟡 黄 | 40〜64 | 中立的なコンテンツ |
| 🔴 赤 | 40未満 | 商業的コンテンツの可能性が高い |

### ラベル

| ラベル | スコア範囲 |
|-------|----------|
| ⭐ 超個人的 | 75以上 |
| ✨ 個人的 | 60〜74 |
| 🔍 中立 | 40〜59 |
| 🏢 商業寄り | 40未満 |

---

## 🧠 スコアリングアルゴリズム

ARSは各検索結果に対して4つの指標を計算し、最終的な **アンチスコア** を算出します。

### 計算式

```
アンチスコア = 50（ベース）
             + (個人性スコア × 3)
             − (SEOスコア × 2)
             − (広告スコア × 2)
             − (ブランドスコア × 3)
             − 順位ペナルティ

※ 0〜100の範囲にクランプ（50が中立）
```

---

### ① 個人性スコア（加点）

「個人が書いた文章」かどうかを判定します。

| 検出ワード | 重み |
|-----------|------|
| 使ってみた / 行ってきた / 食べてきた / 買ってみた / 試してみた | 3.0 |
| 体験 / 感想 / 日記 | 2.0 |
| 僕 / 俺 / 経験 | 1.5 |
| 私 / ブログ | 1.0 |

> 出現回数 × 重みの合計（上限20）が個人性スコアになります。

---

### ② SEOスコア（減点）

SEO対策された記事でよく使われるワードを検出します。

| 検出ワード | 重み |
|-----------|------|
| おすすめ / ランキング / まとめ / 完全ガイド / 決定版 | 2.0 |
| 比較 / 徹底 / 厳選 / 口コミ / 必見 / 保存版 | 1.5 |
| 最新 / 人気 / レビュー / 評判 | 1.0 |

---

### ③ 広告スコア（減点）

ページ内のアフィリエイトリンクを検出します。

**検出対象:**
- `?ref=` `?affiliate=` `?tag=` パラメータ
- Amazon / 楽天のアフィリエイトリンク
- ASP（A8.net, バリューコマース, アクセストレード, もしもアフィリエイト等）

```
広告スコア = 検出リンク数 × 2
```

---

### ④ ブランドスコア（減点）

大手企業サイトかどうかを推定します。

| 判定基準 | 加点 |
|---------|------|
| `.co.jp` / `.or.jp` / `.go.jp` ドメイン | +1.0 |
| 「会社概要」「企業情報」の記載あり | +1.0 |
| 「プライバシーポリシー」の記載あり | +0.5 |

---

### ⑤ 順位ペナルティ

Google検索で上位にいるほど、大手サイトの可能性が高いため減点します。

```
順位ペナルティ = max(0, 10 − 検索順位)
```

例: 1位 → −9点、5位 → −5点、10位以下 → 0点

---

## ⚙️ 設定

ツールバーのARSアイコンをクリックすると設定画面が開きます。

| 設定 | 説明 |
|------|------|
| **有効化トグル** | 拡張機能のON/OFF |
| **フィルタ強度: 弱** | SEO・広告の減点を0.5倍に。個人・商業混合で表示 |
| **フィルタ強度: 中** | 標準設定。バランスの取れたフィルタリング |
| **フィルタ強度: 強** | SEO・広告の減点を1.5倍に。個人コンテンツのみ厳選 |

---

## 🚫 自動除外されるサイト

以下の大手サービスは自動的に結果から除外されます:

| カテゴリ | サイト例 |
|---------|---------|
| EC | Amazon, 楽天, メルカリ, ZOZO |
| 百科事典 | Wikipedia |
| テック系 | Qiita, Zenn, note |
| グルメ | 食べログ, ホットペッパー, ぐるなび |
| 求人 | マイナビ, リクナビ, doda |
| ニュース | 日経, 朝日, NHK, 毎日, 読売 |
| SNS | X(Twitter), Facebook, Instagram, YouTube, TikTok |

---

## 🔧 トラブルシューティング

**パネルが表示されない場合:**
1. `chrome://extensions` で拡張機能が有効になっているか確認
2. ページをリロード（Ctrl+R）
3. F12 → Console で `[ARS]` のログを確認

**結果が少ない場合:**
- フィルタ強度を「弱」に変更してみてください
- ブラックリスト除外により結果が減ることがあります

---

## 📁 ファイル構成

```
special_search/
├── manifest.json      ← 拡張機能の定義
├── anti_filter.js     ← フィルタリング＆スコアリングエンジン
├── background.js      ← ページ解析ワーカー
├── content.js         ← Google検索ページへのUI注入
├── content.css        ← サイドパネルのスタイル
├── popup.html/js/css  ← 設定画面
├── icons/             ← 拡張機能アイコン
└── README.md          ← このファイル
```

---

## 📄 ライセンス

個人利用・改変自由。
